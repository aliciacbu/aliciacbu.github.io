<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=es lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.81.0"><title>Instalar Laravel con DDEV &#183; Alicia Calvo</title><meta name=description content><meta itemprop=name content="Instalar Laravel con DDEV"><meta itemprop=description content="En el art√≠culo anterior hablamos brevemente de DDEV y vimos c√≥mo instalarlo y montar un entorno para una web ya existente."><meta itemprop=datePublished content="2021-03-23T14:20:31+01:00"><meta itemprop=dateModified content="2021-03-23T14:20:31+01:00"><meta itemprop=wordCount content="534"><meta itemprop=image content="https://aliciacalvo.com/images/profile.png"><meta itemprop=keywords content="ddev,PHP,Docker,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aliciacalvo.com/images/profile.png"><meta name=twitter:title content="Instalar Laravel con DDEV"><meta name=twitter:description content="En el art√≠culo anterior hablamos brevemente de DDEV y vimos c√≥mo instalarlo y montar un entorno para una web ya existente."><meta property="og:title" content="Instalar Laravel con DDEV"><meta property="og:description" content="En el art√≠culo anterior hablamos brevemente de DDEV y vimos c√≥mo instalarlo y montar un entorno para una web ya existente."><meta property="og:type" content="article"><meta property="og:url" content="https://aliciacalvo.com/posts/laravel-ddev/"><meta property="og:image" content="https://aliciacalvo.com/images/profile.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-23T14:20:31+01:00"><meta property="article:modified_time" content="2021-03-23T14:20:31+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://aliciacalvo.com/#author","name":"Author Name","image":{"@type":"ImageObject","url":"https://aliciacalvo.com/images/profile.jpg"},"description":"üë©‚Äçüíª"},{"@type":"WebSite","@id":"https://aliciacalvo.com/#website","url":"https://aliciacalvo.com/","name":"Alicia Calvo","description":"üë©‚Äçüíª","publisher":{"@id":"https://aliciacalvo.com/#author"},"inLanguage":"es"},{"@type":"ImageObject","url":"https://aliciacalvo.com/images/profile.png","caption":"Alicia Calvo"},{"@type":"WebPage","@id":"https://aliciacalvo.com/posts/laravel-ddev/#webpage","url":"https://aliciacalvo.com/posts/laravel-ddev/","name":"Instalar Laravel con DDEV","isPartOf":{"@id":"https://aliciacalvo.com/#website"},"about":{"@id":"https://aliciacalvo.com/#author"},"datePublished":"2021-03-23T14:20:31+01:00","dateModified":"2021-03-23T14:20:31+01:00","description":"En el art√≠culo anterior hablamos brevemente de DDEV y vimos c√≥mo instalarlo y montar un entorno para una web ya existente.","inLanguage":"es","potentialAction":[{"@type":"ReadAction","target":["https://aliciacalvo.com/posts/laravel-ddev/"]}]},{"@type":"Article","isPartOf":{"@id":"https://aliciacalvo.com/posts/laravel-ddev/#webpage"},"mainEntityOfPage":{"@id":"https://aliciacalvo.com/posts/laravel-ddev/#webpage"},"headline":"Instalar Laravel con DDEV","datePublished":"2021-03-23T14:20:31+01:00","dateModified":"2021-03-23T14:20:31+01:00","publisher":{"@id":"https://aliciacalvo.com/#author"},"keywords":["ddev","PHP","Docker"],"articleSection":[],"inLanguage":"es","author":{"@type":"Person","name":null},"potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://aliciacalvo.com/posts/laravel-ddev/#comments"]}]}]}</script><link type=text/css rel=stylesheet href=/css/print.css media=print><link type=text/css rel=stylesheet href=/css/poole.css><link type=text/css rel=stylesheet href=/css/hyde.css><style type=text/css>.sidebar{background-color:#43106d}.read-more-link a{border-color:#43106d}.read-more-link a:hover{background-color:#43106d}.pagination li a{color:#43106d;border:1px solid #43106d}.pagination li.active a{background-color:#43106d}.pagination li a:hover{background-color:#43106d;opacity:.75}footer a,.content a,.related-posts li a:hover{color:#43106d}</style><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin=anonymous><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed-a.png><link rel=icon type=image/png sizes=96x96 href=/favicon-a.png></head><body><aside class=sidebar><div class=container><div class=sidebar-about><div class=author-image><a href=https://aliciacalvo.com/><img src=/images/profile.jpg class="img-circle img-headshot center" alt="Profile Picture"></a></div><h1>Alicia Calvo</h1><p class=lead>üë©‚Äçüíª</p></div><nav><ul class=sidebar-nav><li><a href=https://aliciacalvo.com/>Home</a></li><li><a href=/posts/>Posts</a></li><li><a href=/tags/>Tags</a></li></ul></nav><section class=social-icons><a href=https://www.linkedin.com/in/aliciacalvob/ rel=me title=Linkedin target=_blank><i class="fab fa-linkedin" aria-hidden=true></i></a><a href=https://github.com/aliciacbu rel=me title=GitHub target=_blank><i class="fab fa-github" aria-hidden=true></i></a><a href=https://twitter.com/aliciacbu rel=me title=Twitter target=_blank><i class="fab fa-twitter" aria-hidden=true></i></a></section></div></aside><main class="content container"><div class=post><h1 class=title>Instalar Laravel con DDEV</h1><div class=post-date><time datetime=2021-03-23T14:20:31+0100>Mar 23, 2021</time> <span class=readtime>&#183; 3 min de lectura</span></div><div><p>En el <a href=https://aliciacalvo.com/posts/entorno-ddev/>art√≠culo anterior</a> hablamos brevemente de DDEV y vimos c√≥mo instalarlo y montar un entorno para una web ya existente. Esta vez vamos a ver c√≥mo instalar un Laravel bajado de un repositorio de <a href=https://github.com/>GitHub</a>.</p><p><a href=https://laravel.com/>Laravel</a> es, junto con <a href=https://symfony.com/>Symfony</a>, uno de los frameworks PHP de c√≥digo abierto m√°s populares. Gracias a sus componentes, nos permite desarrollar aplicaciones r√°pidamente. Veamos c√≥mo realizar su instalaci√≥n usando DDEV. üöÄ</p><h2 id=requisitos>Requisitos</h2><ul><li><a href=https://git-scm.com/>Git</a></li><li><a href=https://www.docker.com/>Docker</a></li><li><a href=https://www.ddev.com/ddev-local/>DDEV</a></li><li><a href=https://getcomposer.org/>Composer</a> (recomendable aunque no imprescindible)</li></ul><h2 id=instalaci√≥n>Instalaci√≥n</h2><p>Para este ejemplo he escogido el repositorio <a href=https://github.com/jeremykenedy/larablog>Larablog</a>. Me he decidido por este repositorio porque tiene una interfaz bastante llamativa y, si Laravel no nos resulta familiar, nos descubrir√° varias caracter√≠sticas interesantes de dicho framework.</p><h3 id=1--descargar-el-repositorio>1- Descargar el repositorio</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone https://github.com/jeremykenedy/larablog.git larablog
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso1.PNG alt="git clone"></p><h3 id=2--configurar-ddev>2- Configurar DDEV</h3><p>Nos situamos en la carpeta del proyecto y lanzamos la configuraci√≥n de DDEV para Laravel.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd larablog
ddev config --project-type<span style=color:#f92672>=</span>laravel --docroot<span style=color:#f92672>=</span>public --create-docroot
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso2.PNG alt="ddev config"></p><h3 id=3--inicializar-ddev>3- Inicializar ddev</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev start
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso3.PNG alt="ddev start"></p><p>A continuaci√≥n, utiliza el comando <code>describe</code> para ver toda la informaci√≥n del contendor.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev describe
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/describe.PNG alt="ddev describe"></p><h3 id=4--configurar-el-archivo-env>4- Configurar el archivo .ENV</h3><p>Este comando nos crear√° el archivo <code>.env</code> a partir de una copia del archivo <code>.env.example</code> con los datos de la base de datos que usa DDEV.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev exec <span style=color:#e6db74>&#34;cat .env.example | sed  -E &#39;s/DB_(HOST|DATABASE|USERNAME|PASSWORD)=(.*)/DB_\1=db/g&#39; &gt; .env&#34;</span>
</code></pre></div><p>Los par√°metros de la base de datos en nuestro archivo <code>.env</code> nos quedar√°n as√≠:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env>DB_CONNECTION<span style=color:#f92672>=</span>mysql
DB_HOST<span style=color:#f92672>=</span>db
DB_PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>3306</span>
DB_DATABASE<span style=color:#f92672>=</span>db
DB_USERNAME<span style=color:#f92672>=</span>db
DB_PASSWORD<span style=color:#f92672>=</span>db
</code></pre></div><h3 id=5--descargar-las-dependencias>5- Descargar las dependencias</h3><p>Descargamos las dependencias que vienen definidas en el archivo <code>composer.json</code>.</p><p>Este paso se puede hacer tanto dentro de DDEV como fuera. Si lo hacemos fuera del contenedor ir√° m√°s r√°pido pero necesitaremos tener composer instalado.
Para este ejemplo, lanzaremos el comando fuera del contenedor para que vaya m√°s r√°pido.</p><p>Si no tienes Composer instalado, hazlo desde el contenedor:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev composer install
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso5b.PNG alt="ddev composer install"></p><h3 id=6--generar-la-app_key>6- Generar la APP_KEY</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev exec <span style=color:#e6db74>&#34;php artisan key:generate&#34;</span>
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso6.PNG alt="php artisan key:generate"></p><h3 id=7--optimizar-el-comando-php-artisan-en-ddev>7- Optimizar el comando php artisan en DDEV</h3><p>Como habr√°s podido comprobar en el paso anterior, para usar el comando <code>php artisan</code> dentro del contenedor hay que a√±adir <code>ddev exec</code> delante, lo cual se hace bastante tedioso. Artisan es la interfaz de l√≠nea de comandos de Laravel y es de gran utilidad a la hora de desarrollar nuestra aplicaci√≥n. Para que sea m√°s llevadero su uso, podemos simplificar el comando creando un archivo llamado <code>artisan</code> dentro de <code>.ddev/commands/web</code>. Lo haremos por consola de la siguiente manera:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat &gt; .ddev/commands/web/artisan
</code></pre></div><p>En este punto la consola se quedar√° esperando que introduzcamos el contenido del archivo. Teclearemos lo siguiente:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>php artisan $@
</code></pre></div><p>Y pulsaremos <code>CTRL+D</code> para guardar los cambios.</p><p><img src=/images/2021_03_22_laravel-ddev/paso7.PNG alt="cat > .ddev/commands/web/artisan"></p><h3 id=8--publicar-assets>8- Publicar assets</h3><p>Con este comando publicamos ciertos recursos en el directorio de la aplicaci√≥n. En nuestro caso, las migraciones y las semillas.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev artisan vendor:publish --tag<span style=color:#f92672>=</span>laravelroles
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso8.PNG alt="ddev artisan vendor:publish"></p><h3 id=9--carga-de-datos-seeders>9- Carga de datos: seeders</h3><p>Este proyecto incluye una serie de seeds: para los roles, los permisos, los usuarios y las plantillas del blog. Cargaremos estos datos con el siguiente comando:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev artisan db:seed
</code></pre></div><p><img src=/images/2021_03_22_laravel-ddev/paso9.PNG alt="ddev artisan db:seed">
Podemos comprobar que se han rellenado las tablas entrando al phpMyAdmin o bien conect√°ndonos a la base de datos por consola:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ddev mysql --host<span style=color:#f92672>=</span>db --user<span style=color:#f92672>=</span>db --password<span style=color:#f92672>=</span>db --database<span style=color:#f92672>=</span>db
</code></pre></div><h3 id=10--listo>10- ¬°Listo!</h3><p>Si visitamos la url deber√≠amos ver el blog: <a href=https://larablog.ddev.site>https://larablog.ddev.site</a></p><p>Tambi√©n podemos entrar la gesti√≥n del blog en <code>/login</code></p><table><thead><tr><th>Email</th><th>Password</th><th>Rol</th></tr></thead><tbody><tr><td><a href=mailto:admin@admin.com>admin@admin.com</a></td><td>password</td><td>Super Admin</td></tr></tbody></table><p><img src=/images/2021_03_22_laravel-ddev/blog.PNG alt=blog></p><p><img src=/images/2021_03_22_laravel-ddev/login.PNG alt=login></p><p><img src=/images/2021_03_22_laravel-ddev/admin.PNG alt=admin></p></div><div><ul class=tags><li><a href=https://aliciacalvo.com/tags/ddev/ class=tag-link>ddev</a></li><li><a href=https://aliciacalvo.com/tags/php/ class=tag-link>PHP</a></li><li><a href=https://aliciacalvo.com/tags/docker/ class=tag-link>Docker</a></li></ul></div><div class=comments><h2>Comentarios</h2><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//aliciacalvo.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></main><footer><div><p>&copy; Alicia Calvo 2021
&#183; <a href=https://creativecommons.org/licenses/by-sa/4.0 target=_blank>CC BY-SA 4.0</a></p></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin=anonymous></script><script src=/js/jquery.min.js></script><script src=/js/soho.js></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-62429049-2','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>